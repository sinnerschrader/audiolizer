{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 40eb40e5f1519cb3663a","webpack:///./app/index.js","webpack:///./src/index.js","webpack:///./node_modules/audio-loader/lib/browser.js","webpack:///./node_modules/audio-loader/lib/load.js","webpack:///./node_modules/audio-loader/lib/base64.js","webpack:///./node_modules/is-buffer/index.js","webpack:///./node_modules/audio-context/index.js","webpack:///./app/audio/electronical.mp3","webpack:///./app/audio/nerdcore.mp3","webpack:///./app/audio/car.mp3"],"names":["W","H","LINE_WIDTH","VOLUME","OPACITY","FF","STEP","BG","FG","BRAND","getComputedStyle","document","documentElement","getPropertyValue","C","getElementById","verticesRange","volumeRange","trailRange","playDemo1","playDemo2","playDemo3","stopButton","playButton","$","getContext","vertices","parseInt","value","setAttribute","audiolizer","fftSize","volume","addEventListener","e","target","parseFloat","fillStyle","file","play","stop","height","width","fillRect","strokeStyle","lineWidth","counter","convert","arr","beginPath","n","revArr","reverse","roundArr","start","filteredArray","filter","x","i","Boolean","forEach","point","rad","Math","PI","length","sin","y","cos","moveTo","lineTo","average","closePath","stroke","load","defaultConfig","Audiolizer","constructor","config","_audio","Audio","_audioCtx","AudioContext","_analyser","createAnalyser","_dataArray","Uint8Array","frequencyBinCount","_config","_draw","bind","_visualize","getByteTimeDomainData","_convert","_isPlaying","requestAnimationFrame","cancelAnimationFrame","_file","_updateSrc","fn","_play","_stop","pause","_pause","currentTime","src","_loadFile","then","buffer","_source","createMediaElementSource","connect","destination"],"mappings":"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EA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,GAAG;AACH;;;;;;;;AClDA;;AAEA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA,uBAAuB,oCAAoC;AAC3D;AACA,eAAe,MAAM;AACrB;AACA,wBAAwB,qBAAqB;AAC7C;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,iDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;;AAEA;AACA;;;;;;;;ACnJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8DAA8D,iBAAiB;AAC/E;AACA;AACA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;;;;;;;ACnClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACpBA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,aAAa;AACb;;AAEA;;;AAGA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC3CA,gF;;;;;;ACAA,gF;;;;;;ACAA,gF","file":"app.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 40eb40e5f1519cb3663a","import Audiolizer from '../src/index.js'\nimport DEMO_AUDIO_1 from './audio/electronical.mp3'\nimport DEMO_AUDIO_2 from './audio/nerdcore.mp3'\nimport DEMO_AUDIO_3 from './audio/car.mp3'\n\nconst W = 512\nconst H = 512\nconst LINE_WIDTH = 3\nconst VOLUME = 0.2\nconst OPACITY = 0.2\nconst FF = 64\nconst STEP = W / FF\nconst BG = '#000'\nconst FG = '#fff'\nconst BRAND = getComputedStyle(document.documentElement).getPropertyValue('--brand-color')\n\n\nconst C = document.getElementById('canvas')\nconst verticesRange = document.getElementById('vertices')\nconst volumeRange = document.getElementById('volume')\nconst trailRange = document.getElementById('trail')\nconst playDemo1 = document.getElementById('demo1')\nconst playDemo2 = document.getElementById('demo2')\nconst playDemo3 = document.getElementById('demo3')\nconst stopButton = document.getElementById('stop')\nconst playButton = document.getElementById('play')\nconst $ = C.getContext('2d')\n\n\nlet vertices = ~~(FF * 2 / parseInt(verticesRange.value, 10))\n\nverticesRange.setAttribute('min', 3)\nverticesRange.setAttribute('max', FF * 2)\nverticesRange.setAttribute('value', FF)\nvolumeRange.setAttribute('min', 0)\nvolumeRange.setAttribute('max', 1)\nvolumeRange.setAttribute('step', 0.1)\nvolumeRange.setAttribute('value', VOLUME)\ntrailRange.setAttribute('min', 0.1)\ntrailRange.setAttribute('max', 1)\ntrailRange.setAttribute('step', 0.05)\ntrailRange.setAttribute('value', OPACITY)\n\n\n\nconst audiolizer = new Audiolizer({fftSize: FF})\naudiolizer.volume = VOLUME\n\n\nverticesRange.addEventListener('input', e => {\n  vertices = ~~(FF * 2 / parseInt(e.target.value, 10))\n})\n\nvolumeRange.addEventListener('input', e => {\n  audiolizer.volume = parseFloat(e.target.value)\n})\n\ntrailRange.addEventListener('input', e => {\n  $.fillStyle = `hsla(0, 0%, 0%, ${parseFloat(e.target.value)})`\n})\n\nplayDemo1.addEventListener('click', e => {\n  audiolizer.file = DEMO_AUDIO_1\n})\n\nplayButton.addEventListener('click', e => {\n  audiolizer.play()\n})\n\nstopButton.addEventListener('click', e => {\n  audiolizer.stop()\n})\n\nplayDemo2.addEventListener('click', e => {\n  audiolizer.file = DEMO_AUDIO_2\n})\n\nplayDemo3.addEventListener('click', e => {\n  audiolizer.file = DEMO_AUDIO_3\n})\n\nC.height = H\nC.width = W\n$.fillStyle = BG\n$.fillRect(0, 0, W, H)\n$.strokeStyle = FG\n$.lineWidth = LINE_WIDTH\nlet counter = 0\n$.fillStyle = `hsla(0, 0%, 0%, ${OPACITY})`\naudiolizer.convert = (arr = []) => {\n  $.fillRect(0, 0, W, H)\n  $.beginPath()\n  let n = 0\n  const revArr = [...arr].reverse()\n  const roundArr = [...arr, ...revArr]\n  let start\n  const filteredArray = roundArr.filter((x, i) => !Boolean(i % vertices))\n  filteredArray.forEach((point, i) => {\n    const rad = 2 * Math.PI / filteredArray.length * i\n    const x = Math.sin(rad) * point + W / 2\n    const y = Math.cos(rad) * point + H / 2\n    if (!start) {\n      start = true\n      $.moveTo(x, y)\n    } else {\n      $.lineTo(x, y)\n    }\n    n += point\n  })\n\n  const average = n / filteredArray.length\n  if (average > 128) {\n    $.strokeStyle = BRAND\n  } else {\n    $.strokeStyle = FG\n  }\n\n  $.closePath()\n  $.stroke()\n}\n\n//audiolizer.play()\n\n\n\n// WEBPACK FOOTER //\n// ./app/index.js","var load = require('audio-loader')\n\n\n// load a collection of files\n\nconst defaultConfig = {\n  fftSize: 512\n}\n\nclass Audiolizer {\n  _audio = new Audio()\n  _audioCtx = new AudioContext()\n  _analyser = this._audioCtx.createAnalyser()\n  _dataArray = new Uint8Array(this._analyser.frequencyBinCount)\n  _file\n  _source\n  _convert\n  _config\n  _isPlaying\n\n  constructor(config = {}) {\n    this._config = {\n      ...defaultConfig,\n      ...config\n    }\n    this._analyser.fftSize = this._config.fftSize\n    this._draw = this._draw.bind(this)\n  }\n\n  _visualize() {\n    this._dataArray = new Uint8Array(this._analyser.fftSize)\n  }\n\n  _draw() {\n    this._analyser.getByteTimeDomainData(this._dataArray)\n    this._convert(this._dataArray)\n    if (this._isPlaying) {\n      requestAnimationFrame(this._draw)\n    } else {\n      cancelAnimationFrame(this._draw)\n    }\n  }\n\n  set file(file) {\n    this._file = file\n    this._updateSrc()\n  }\n\n  set fftSize(fftSize) {\n    this._analyser.fftSize = fftSize\n  }\n\n  set convert(fn) {\n    this._convert = fn\n  }\n\n  play() {\n    this._isPlaying = true\n    this._play()\n    this._visualize()\n    this._draw()\n  }\n\n  stop() {\n    this._stop()\n  }\n\n  pause() {\n    this._isPlaying = false\n    this._pause()\n  }\n\n  _stop() {\n    this._pause()\n    this._audio.currentTime = 0\n  }\n\n  _pause() {\n    this._audio.pause()\n  }\n\n  _play() {\n    this._audio.play()\n  }\n\n  _updateSrc() {\n    this._audio.src = this._file\n    this._loadFile()\n  }\n\n  set volume(volume) {\n    this._audio.volume = volume\n  }\n\n  _loadFile() {\n    load(this._file).then(buffer => {\n      if (! this._source) {\n        this._source = this._audioCtx.createMediaElementSource(this._audio)\n        this._source.connect(this._analyser)\n        this._analyser.connect(this._audioCtx.destination)\n      }\n      this.play()\n   })\n  }\n}\n\nexport default Audiolizer\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* global XMLHttpRequest */\r\n'use strict'\r\nvar load = require('./load')\r\nvar context = require('audio-context')\r\n\r\nmodule.exports = function (source, options, cb) {\r\n  if (options instanceof Function) {\r\n    cb = options\r\n    options = {}\r\n  }\r\n  options = options || {}\r\n  options.ready = cb || function () {}\r\n  var ac = options && options.context ? options.context : context()\r\n  var defaults = { decode: getAudioDecoder(ac), fetch: fetch }\r\n  var opts = Object.assign(defaults, options)\r\n  return load(source, opts)\r\n}\r\n\r\n/**\r\n * Wraps AudioContext's decodeAudio into a Promise\r\n */\r\nfunction getAudioDecoder (ac) {\r\n  return function decode (buffer) {\r\n    return new Promise(function (resolve, reject) {\r\n      ac.decodeAudioData(buffer,\r\n        function (data) { resolve(data) },\r\n        function (err) { reject(err) })\r\n    })\r\n  }\r\n}\r\n\r\n/*\r\n * Wraps a XMLHttpRequest into a Promise\r\n *\r\n * @param {String} url\r\n * @param {String} type - can be 'text' or 'arraybuffer'\r\n * @return {Promise}\r\n */\r\nfunction fetch (url, type) {\r\n  return new Promise(function (resolve, reject) {\r\n    var req = new XMLHttpRequest()\r\n    if (type) req.responseType = type\r\n\r\n    req.open('GET', url)\r\n    req.onload = function () {\r\n      req.status === 200 ? resolve(req.response) : reject(Error(req.statusText))\r\n    }\r\n    req.onerror = function () { reject(Error('Network Error')) }\r\n    req.send()\r\n  })\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/audio-loader/lib/browser.js\n// module id = 2\n// module chunks = 0","'use strict'\r\n\r\nvar base64 = require('./base64')\r\nvar isBuffer = require('is-buffer')\r\n\r\n// Given a regex, return a function that test if against a string\r\nfunction fromRegex (r) {\r\n  return function (o) { return typeof o === 'string' && r.test(o) }\r\n}\r\n// Try to apply a prefix to a name\r\nfunction prefix (pre, name) {\r\n  return typeof pre === 'string' ? pre + name\r\n    : typeof pre === 'function' ? pre(name)\r\n    : name\r\n}\r\n\r\n/**\r\n * Load one or more audio files\r\n *\r\n *\r\n * Possible option keys:\r\n *\r\n * - __from__ {Function|String}: a function or string to convert from file names to urls.\r\n * If is a string it will be prefixed to the name:\r\n * `load('snare.mp3', { from: 'http://audio.net/samples/' })`\r\n * If it's a function it receives the file name and should return the url as string.\r\n * - __only__ {Array} - when loading objects, if provided, only the given keys\r\n * will be included in the decoded object:\r\n * `load('piano.json', { only: ['C2', 'D2'] })`\r\n *\r\n * @param {Object} source - the object to be loaded\r\n * @param {Object} options - (Optional) the load options for that object\r\n * @param {Object} defaultValue - (Optional) the default value to return as\r\n * in a promise if not valid loader found\r\n */\r\nfunction load (source, options, defVal) {\r\n  var loader =\r\n    // Basic audio loading\r\n      isArrayBuffer(source) || isBuffer(source) ? decodeBuffer\r\n    : isAudioFileName(source) ? loadAudioFile\r\n    : isPromise(source) ? loadPromise\r\n    // Compound objects\r\n    : isArray(source) ? loadArrayData\r\n    : isObject(source) ? loadObjectData\r\n    : isJsonFileName(source) ? loadJsonFile\r\n    // Base64 encoded audio\r\n    : isBase64Audio(source) ? loadBase64Audio\r\n    : isJsFileName(source) ? loadMidiJSFile\r\n    : null\r\n\r\n  var opts = options || {}\r\n  var promise = loader ? loader(source, opts)\r\n    : defVal ? Promise.resolve(defVal)\r\n    : Promise.reject('Source not valid (' + source + ')')\r\n\r\n  return promise.then(function (data) {\r\n    opts.ready(null, data)\r\n    return data\r\n  }, function (err) {\r\n    opts.ready(err)\r\n    throw err\r\n  })\r\n}\r\n\r\n// BASIC AUDIO LOADING\r\n// ===================\r\n\r\n// Load (decode) an array buffer\r\nfunction isArrayBuffer (o) { return o instanceof ArrayBuffer }\r\nfunction decodeBuffer (array, options) {\r\n  return options.decode(array)\r\n}\r\n\r\n// Load an audio filename\r\nvar isAudioFileName = fromRegex(/\\.(mp3|wav|ogg)(\\?.*)?$/i)\r\nfunction loadAudioFile (name, options) {\r\n  var url = prefix(options.from, name)\r\n  return load(options.fetch(url, 'arraybuffer'), options)\r\n}\r\n\r\n// Load the result of a promise\r\nfunction isPromise (o) { return o && typeof o.then === 'function' }\r\nfunction loadPromise (promise, options) {\r\n  return promise.then(function (value) {\r\n    return load(value, options)\r\n  })\r\n}\r\n\r\n// COMPOUND OBJECTS\r\n// ================\r\n\r\n// Try to load all the items of an array\r\nvar isArray = Array.isArray\r\nfunction loadArrayData (array, options) {\r\n  return Promise.all(array.map(function (data) {\r\n    return load(data, options, data)\r\n  }))\r\n}\r\n\r\n// Try to load all the values of a key/value object\r\nfunction isObject (o) { return o && typeof o === 'object' }\r\nfunction loadObjectData (obj, options) {\r\n  var dest = {}\r\n  var promises = Object.keys(obj).map(function (key) {\r\n    if (options.only && options.only.indexOf(key) === -1) return null\r\n    var value = obj[key]\r\n    return load(value, options, value).then(function (audio) {\r\n      dest[key] = audio\r\n    })\r\n  })\r\n  return Promise.all(promises).then(function () { return dest })\r\n}\r\n\r\n// Load the content of a JSON file\r\nvar isJsonFileName = fromRegex(/\\.json(\\?.*)?$/i)\r\nfunction loadJsonFile (name, options) {\r\n  var url = prefix(options.from, name)\r\n  return load(options.fetch(url, 'text').then(JSON.parse), options)\r\n}\r\n\r\n// BASE64 ENCODED FORMATS\r\n// ======================\r\n\r\n// Load strings with Base64 encoded audio\r\nvar isBase64Audio = fromRegex(/^data:audio/)\r\nfunction loadBase64Audio (source, options) {\r\n  var i = source.indexOf(',')\r\n  return load(base64.decode(source.slice(i + 1)).buffer, options)\r\n}\r\n\r\n// Load .js files with MidiJS soundfont prerendered audio\r\nvar isJsFileName = fromRegex(/\\.js(\\?.*)?$/i)\r\nfunction loadMidiJSFile (name, options) {\r\n  var url = prefix(options.from, name)\r\n  return load(options.fetch(url, 'text').then(midiJsToJson), options)\r\n}\r\n\r\n// convert a MIDI.js javascript soundfont file to json\r\nfunction midiJsToJson (data) {\r\n  var begin = data.indexOf('MIDI.Soundfont.')\r\n  if (begin < 0) throw Error('Invalid MIDI.js Soundfont format')\r\n  begin = data.indexOf('=', begin) + 2\r\n  var end = data.lastIndexOf(',')\r\n  return JSON.parse(data.slice(begin, end) + '}')\r\n}\r\n\r\nif (typeof module === 'object' && module.exports) module.exports = load\r\nif (typeof window !== 'undefined') window.loadAudio = load\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/audio-loader/lib/load.js\n// module id = 3\n// module chunks = 0","'use strict'\r\n\r\n// DECODE UTILITIES\r\nfunction b64ToUint6 (nChr) {\r\n  return nChr > 64 && nChr < 91 ? nChr - 65\r\n    : nChr > 96 && nChr < 123 ? nChr - 71\r\n    : nChr > 47 && nChr < 58 ? nChr + 4\r\n    : nChr === 43 ? 62\r\n    : nChr === 47 ? 63\r\n    : 0\r\n}\r\n\r\n// Decode Base64 to Uint8Array\r\n// ---------------------------\r\nfunction decode (sBase64, nBlocksSize) {\r\n  var sB64Enc = sBase64.replace(/[^A-Za-z0-9\\+\\/]/g, '')\r\n  var nInLen = sB64Enc.length\r\n  var nOutLen = nBlocksSize\r\n    ? Math.ceil((nInLen * 3 + 1 >> 2) / nBlocksSize) * nBlocksSize\r\n    : nInLen * 3 + 1 >> 2\r\n  var taBytes = new Uint8Array(nOutLen)\r\n\r\n  for (var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0; nInIdx < nInLen; nInIdx++) {\r\n    nMod4 = nInIdx & 3\r\n    nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << 18 - 6 * nMod4\r\n    if (nMod4 === 3 || nInLen - nInIdx === 1) {\r\n      for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {\r\n        taBytes[nOutIdx] = nUint24 >>> (16 >>> nMod3 & 24) & 255\r\n      }\r\n      nUint24 = 0\r\n    }\r\n  }\r\n  return taBytes\r\n}\r\n\r\nmodule.exports = { decode: decode }\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/audio-loader/lib/base64.js\n// module id = 4\n// module chunks = 0","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-buffer/index.js\n// module id = 5\n// module chunks = 0","'use strict'\r\n\r\nvar cache = {}\r\n\r\nmodule.exports = function getContext (options) {\r\n\tif (typeof window === 'undefined') return null\r\n\t\r\n\tvar OfflineContext = window.OfflineAudioContext || window.webkitOfflineAudioContext\r\n\tvar Context = window.AudioContext || window.webkitAudioContext\r\n\t\r\n\tif (!Context) return null\r\n\r\n\tif (typeof options === 'number') {\r\n\t\toptions = {sampleRate: options}\r\n\t}\r\n\r\n\tvar sampleRate = options && options.sampleRate\r\n\r\n\r\n\tif (options && options.offline) {\r\n\t\tif (!OfflineContext) return null\r\n\r\n\t\treturn new OfflineContext(options.channels || 2, options.length, sampleRate || 44100)\r\n\t}\r\n\r\n\r\n\t//cache by sampleRate, rather strong guess\r\n\tvar ctx = cache[sampleRate]\r\n\r\n\tif (ctx) return ctx\r\n\r\n\t//several versions of firefox have issues with the\r\n\t//constructor argument\r\n\t//see: https://bugzilla.mozilla.org/show_bug.cgi?id=1361475\r\n\ttry {\r\n\t\tctx = new Context(options)\r\n\t}\r\n\tcatch (err) {\r\n\t\tctx = new Context()\r\n\t}\r\n\tcache[ctx.sampleRate] = cache[sampleRate] = ctx\r\n\r\n\treturn ctx\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/audio-context/index.js\n// module id = 6\n// module chunks = 0","module.exports = __webpack_public_path__ + \"c112c1f74121ac25cde37bfb24004fd3.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/audio/electronical.mp3\n// module id = 7\n// module chunks = 0","module.exports = __webpack_public_path__ + \"f1cf3cfafcdf4d7bfba77d12093d5679.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/audio/nerdcore.mp3\n// module id = 8\n// module chunks = 0","module.exports = __webpack_public_path__ + \"32b1695449ef67bbb63e04c79a458130.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/audio/car.mp3\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}